### 数字签名

电子文档的完整性、认证性和非否认性的技术手段。

1. 生成密钥对：首先，用户生成一对密钥，包括私钥和公钥。私钥是保密的，只有签名者拥有，而公钥是公开的，可以被用来验证签名。
2. 创建数字签名：要对一份文档进行签名，签名者首先使用哈希算法对文档进行摘要计算，生成文档的哈希值。然后，签名者使用自己的<u>**私钥**</u>对哈希值进行加密，形成数字签名。
3. 验证数字签名：接收到带有数字签名的文档的人可以使用签名者的公钥来验证签名的有效性。验证者首先使用相同的哈希算法对接收到的文档进行摘要计算，得到文档的哈希值。然后，验证者使用签名者的<u>**公钥**</u>对数字签名进行解密，得到解密后的哈希值。最后，验证者比较计算得到的哈希值与解密后的哈希值是否一致。如果一致，说明数字签名有效，文档没有被篡改过；如果不一致，说明数字签名无效，文档可能已被篡改。


### 非对称加密

公开密钥密码学（英语：Public-key cryptography）也称非对称式密码学（英语：Asymmetric cryptography）是密码学的一种演算法，它需要两个密钥，一个是公开密钥，另一个是私有密钥；<u>**公钥**</u>用作加密，<u>**私钥**</u>则用作解密。使用公钥把明文加密后所得的密文，只能用相对应的私钥才能解密并得到原本的明文，最初用来加密的公钥不能用作解密。由于加密和解密需要两个不同的密钥，故被称为非对称加密；不同于加密和解密都使用同一个密钥的对称加密。公钥可以公开，可任意向外发布；私钥不可以公开，必须由用户自行严格秘密保管，绝不透过任何途径向任何人提供，也不会透露给被信任的要通讯的另一方。


### 加密签名

* 加密： 公钥加密，私钥解密的过程，称为<u>**加密**></u>

* 签名： 私钥加密，公钥解密的过程，称为<u>**签名</u>
  
    它和加密有什么区别呢？因为公钥是公开的，所以任何持有公钥的人都能解密私钥加密过的密文，所以这个过程并不能保证消息的安全性，但是它却能保证消息来源的准确性和不可否认性，也就是说，如果使用公钥能正常解密某一个密文，那么就能证明这段密文一定是由私钥持有者发布的，而不是其他第三方发布的，并且私钥持有者不能否认他曾经发布过该消息。故此将该过程称为「签名」。


<u>对极大整数做因数分解的难度决定了RSA算法的可靠性。</u>换言之，对一极大整数做因数分解愈困难，RSA算法愈可靠。

### 例子

让A写下一个任意3位数，并将这个数和91相乘；然后将积的最后三位数告诉B，这样B就可以计算出A写下的是什么数字了。

比如A写下的是123 (需加密内容)，并且A计算出123 * 91 (B的公钥加密)等于11193，并把结果的末三位193(加密结果)告诉B ；
B只需要把193再乘以11 (B的私钥)，193 * 11 = 2123 末三位123（解密结果）就是A写下的数字了；
道理很简单，91乘以11等于1001，而任何一个三位数乘以1001后，末三位显然都不变（例如123乘以1001就等于123123）。


<u>**RSA算法使用的是指数和取模运算，本质上就是上面这套思想。**</u>

### RSA加密算法

1. 随意选择两个大的质数 p和 q，p不等于 q，计算 N=pq
2. 根据欧拉函数，求得 r
r = φ(N) = φ(p)φ(q) = (p-1)(q-1)
3. 选择一个小于r并与r互质的整数e，求得e关于r的模反元素，命名为d （ ed ≡ 1(mod r) 模反元素存在，当且仅当e与r互质 )
4. 销毁p和q，此时 (N , e)是公钥，(N, d)为私钥；



### 参考

* > https://zh.wikipedia.org/zh-hans/%E5%85%AC%E5%BC%80%E5%AF%86%E9%92%A5%E5%8A%A0%E5%AF%86
* > https://developer.aliyun.com/article/816160